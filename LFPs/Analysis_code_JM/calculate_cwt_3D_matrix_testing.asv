
% C = reshape(event_triggered_lfps_ordered,[],size(event_triggered_lfps_ordered,3),1);
% 
% szA = size(event_triggered_lfps_ordered, 1);
% szB = size(event_triggered_lfps_ordered, 2);
% szC = size(event_triggered_lfps_ordered, 3);
% D = szA * szB; % using this value to reshape the data into a vector array instead of a 3D Matrix
% result_test = reshape(event_triggered_lfps_ordered,D,[]); % lines 4 through 9 are doing what line 2 is doing.

% checking the order of how this reshapes the data. I think it is reshaping
% as all the points for Ch 1 then moving to channel 2 etc. 
% Test_values = event_triggered_lfps_ordered(1,:,:); Test_values_squeeze = squeeze(Test_values);
num_channels = size(event_triggered_lfps_ordered, 2);
currentCWT = zeros();

% p = load ('JPLCSRmean.mat')
% GRACE = p.datamean
num_events = size(event_triggered_lfps_ordered,3);
num_channels = size(event_triggered_lfps_ordered,2);
num_trials = size(event_triggered_lfps_ordered, 1);

for i = 1:num_trials
for j = 1:num_channels
for k = 1:num_events
    [cfs_mean,f] = cwt(event_triggered_lfps_ordered(i,j,k),'amor',500);
[c,l] = wavedec(GRACE(i,j,k),4,'dmey');
al = appcoef(c,l,'dmey',1);
%[cD1,cD2,cD3,cD4,cD5,cD6] = detcoef(c,l,[1,2,3,4,5,6]);
D = [];
%D(:,6)= wrcoef('a',c,l,'dmey',6);
%D(:,5) = wrcoef('a',c,l,'dmey',5);
D(:,4) = wrcoef('a',c,l,'dmey',4);
D(:,3) = wrcoef('a',c,l,'dmey',3);
D(:,2) = wrcoef('a',c,l,'dmey',2);
D(:,1) = wrcoef('a',c,l,'dmey',1);
filename = sprintf('%s_%04f.txt', 'GRACE_APROXIMATIONS', k)
csvwrite(filename,D)
end
end
end


% for i_row = 1 : num_rows
%    [cfs_mean,f] = cwt(event_triggered_lfps(i_row, :, :), 'amor', Fs);
% end

% [cfs_mean,f] = cwt(myData2(1,:),'amor',500);